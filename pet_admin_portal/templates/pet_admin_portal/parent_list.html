{% extends 'pet_admin_portal/base.html' %}
{% block title %}Pet Parents | Portal{% endblock %}
{% block content %}

<div class="page-header">
  <div>
    <h1 class="page-title">Pet Parent Hub</h1>
    <p class="page-subtitle">Admin / Vet / Staff — clinical records module</p>
  </div>
  <form method="get" class="inline-form">
    <input name="q" value="{{ q }}" placeholder="Search by name, case ID, phone, email…" autocomplete="off">
    <button class="btn-primary" type="submit">Search</button>
  </form>
</div>

<div class="card" style="padding: 0; overflow: hidden;">
  <div class="table-wrap" style="border: none; border-radius: 0;">
    <table>
      <thead>
        <tr>
          <th>Case ID</th>
          <th>Pet Parent</th>
          <th>Phone</th>
          <th>Email</th>
          <th>Pets</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for parent in parents %}
          <tr>
            <td><span class="badge brand">{{ parent.case_id }}</span></td>
            <td><strong>{{ parent.name }}</strong></td>
            <td>{{ parent.phone }}</td>
            <td>{{ parent.email }}</td>
            <td>{{ parent.pet_count }}</td>
            <td><a class="btn-link btn-sm" href="{% url 'pet_admin_portal:profile_hub' parent.id %}">Open Hub →</a></td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="6">
              <div class="empty-state">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="7" r="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <p>No pet parents found{% if q %} matching "{{ q }}"{% endif %}.</p>
              </div>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
